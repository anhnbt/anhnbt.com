function toPerfectName(e){e.innerHTML="Đang đổi t\xean...";let t=document.getElementById("result"),s=document.getElementById("txtMessage"),n=document.getElementById("myName"),a=new XMLHttpRequest;if(""===n.value){e.innerHTML="Tạo t\xean k\xed tự đặc biệt",n.focus(),n.classList.add("is-danger"),s.innerHTML=`<div class="message is-danger" role="alert"><p class="message-body">\xd4 nhập t\xean kh\xf4ng được bỏ trống!</p></div>`;return}try{let l={myName:n.value.trim(),symbolLeft:document.getElementById("symbolLeft").value,symbolRight:document.getElementById("symbolRight").value,symbolCenter:document.getElementById("symbolCenter").value};e.classList.add("is-loading"),a.onreadystatechange=function(){if(4===this.readyState&&200===this.status){n.classList.remove("is-danger");let a=JSON.parse(this.responseText),l='<div class="tabs mb-1"><ul class="m-0"><li id="tabRecommendChars" class="is-active" onclick="openTab(event,\'recommendChars\')"><a>Gợi \xfd <span class="tag is-primary is-light">'+a.recommendChars.length+'</span></a></li><li id="tabAll" onclick="openTab(event,\'all\')"><a>Tất cả <span class="tag is-primary is-light">'+a.chars.length+"</span></a></li>";if(l+="</ul></div>",a.recommendChars){l+='<div id="recommendChars" class="content-tab" style="overflow-y:scroll; height:150px;">';for(let c=0;c<a.recommendChars.length;c++)l+=`<div class="field has-addons">
                <div class="control is-expanded">
                    <input type="text" class="input" value="${a.recommendChars[c]}" onfocus="this.select();" onmouseup="return false;">
                </div>
                <div class="control">
                    <button type="button" class="button is-primary" onclick="copyToClipboardInput(this);">
                    Sao ch\xe9p
                    </button>
                </div>
            </div>`;l+="</div>"}if(a.chars){l+='<p class="has-text-centered has-text-success">↓↓ Cuộn xuống dưới ↓↓</p><div id="all" class="content-tab" style="overflow-y:scroll; height:150px; display:none">';for(let o=0;o<a.chars.length;o++)l+=`<div class="field has-addons">
                <div class="control is-expanded">
                    <input type="text" class="input" value="${a.chars[o]}" onfocus="this.select();" onmouseup="return false;">
                </div>
                <div class="control">
                    <button type="button" class="button is-primary" onclick="copyToClipboardInput(this);">
                    Sao ch\xe9p
                    </button>
                </div>
            </div>`;l+="</div>"}t.innerHTML=l,setTimeout(function(){s.innerHTML='<p class="has-text-centered has-text-success">↓↓ Th\xe0nh c\xf4ng! K\xe9o xuống dưới nh\xe9 ↓↓<p>',e.classList.remove("is-loading"),e.innerHTML="Tạo lại t\xean"},2e3)}},a.open("POST","https://anhnbt.kitudacbiet.com",!0),a.setRequestHeader("Content-type","application/json"),a.send(JSON.stringify(l))}catch(c){s.innerHTML="Đ\xe3 xảy ra lỗi ngoại lệ: "+c.description}}function loadMoreNickName(e,t,s){let n=document.getElementById("nickNameList");n.innerHTML=`<img class="d-block mx-auto" src="${contextPath}images/spinner.gif" alt="loading"><p class="text-center">Đang tải dữ liệu ...</p>`;let a=new XMLHttpRequest;a.open("GET",contextPath+"nicknames?page="+t+"&size="+s,!0),a.setRequestHeader("Content-type","application/json"),a.onreadystatechange=function(){if(4===a.readyState&&200===a.status){if(a.responseText){let l=JSON.parse(a.responseText);e.remove();let c='<div class="box tags">';for(let o=0;o<l.content.length;o++)c+='<span class="tag" data-clipboard-text="'+l.content[o].nickname+'">'+l.content[o].nickname+"</span>&nbsp;";c+=`</div><div class="has-text-centered mb-1">
                    <button onclick="loadMoreNickName(this, ${t}+1, ${s})" class="button">Xem th\xeam (${l.number}/${l.totalPages} trang)</button>
                   </div>`,n.innerHTML=c}else n.innerHTML='<div class="has-background-danger p-2 mb-2">Lỗi kh\xf4ng nhận được dữ liệu từ m\xe1y chủ</div>'}else 204===a.status?n.innerHTML=`<div class="has-background-warning p-2 mb-2">Đ\xe3 tải hết dữ liệu.</div><div class="has-text-centered mb-1">
                    <button onclick="loadMoreNickName(this, 1, ${s})" class="button">Tải lại</button>
                   </div>`:n.innerHTML='<div class="has-background-danger p-2 mb-2">Lỗi kh\xf4ng x\xe1c định.</div>'},a.send()}function copyToClipboardInputFrmModal(e){copyToClipboard(e.parentElement.parentElement.children[0].children[1]),e.classList.remove("is-primary"),e.classList.add("is-success"),e.innerHTML="Đ\xe3 ch\xe9p",setTimeout(function(){e.classList.remove("is-success"),e.classList.add("is-primary"),e.innerHTML="Sao ch\xe9p"},1e3)}function copyToClipboardInput(e){copyToClipboard(e.parentElement.parentElement.children[0].children[0]),e.classList.remove("is-primary"),e.classList.add("is-success"),e.innerHTML="Đ\xe3 ch\xe9p",setTimeout(function(){e.classList.remove("is-success"),e.classList.add("is-primary"),e.innerHTML="Sao ch\xe9p"},1e3)}function copyToClipboardInputWithLabel(e){copyToClipboard(e.parentElement.parentElement.children[0].children[0]),e.classList.remove("is-primary"),e.classList.add("is-success"),e.innerHTML="Đ\xe3 ch\xe9p",setTimeout(function(){e.classList.remove("is-success"),e.classList.add("is-primary"),e.innerHTML="Sao ch\xe9p"},1e3)}function copyToClipboard(e){e.select(),e.setSelectionRange(0,99999),document.execCommand("copy")}document.addEventListener("DOMContentLoaded",()=>{let e=document.getElementById("btn-close");e&&e.addEventListener("click",function(){document.getElementById("copyModal").classList.toggle("is-active")});let t=Array.prototype.slice.call(document.querySelectorAll(".navbar-burger"),0);t.length>0&&t.forEach(e=>{e.addEventListener("click",()=>{let t=e.dataset.target,s=document.getElementById(t);e.classList.toggle("is-active"),s.classList.toggle("is-active")})})});const tags=document.querySelectorAll(".tag");for(let i=0;i<tags.length;i++){let e=tags[i].getAttribute("data-clipboard-text");e&&tags[i].addEventListener("click",function(){document.getElementById("copyModal").classList.toggle("is-active"),document.getElementById("txtSymbol").value=e})}function openTab(e,t){var s,n,a,l;for(s=0,n=document.getElementsByClassName("content-tab");s<n.length;s++)n[s].style.display="none";(a=document.getElementById("tabAll")).classList.remove("is-active"),(l=document.getElementById("tabRecommendChars")).classList.remove("is-active"),document.getElementById(t).style.display="block",e.currentTarget.classList.toggle("is-active")}function addToPlaceholder(e,t){return t.placeholder=t.placeholder+e,new Promise(e=>setTimeout(e,100))}function clearPlaceholder(e){e.placeholder=""}function printPhrase(e,t){return new Promise(s=>{clearPlaceholder(t);let n=e.split("");n.reduce((e,a,l)=>e.then(e=>(l===n.length-1&&setTimeout(s,1e3),addToPlaceholder(a,t))),Promise.resolve())})}function printPhrases(e,t){e.reduce((e,s)=>e.then(e=>printPhrase(s,t)),Promise.resolve())}function startTyping(){let e=document.getElementById("myName")||document.getElementById("mySearch");printPhrases(['Nhập t\xean hoặc nickname, v\xed dụ: "꧁Yang Hồ꧂"',"\xc1c☠️Q͜͡ủy","Bad┊Girl","Cỏ 3 L\xe1☘"],e)}startTyping();